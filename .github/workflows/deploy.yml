name: Deploy to Homelab

on:
  push:
    branches:
      - main  # lub 'master' - sprawdÅº jak nazywa siÄ™ Twoja gÅ‚Ã³wna gaÅ‚Ä…Åº!

jobs:
  deploy:
    # To mÃ³wi GitHubowi: "Nie szukaj serwerÃ³w w chmurze, uÅ¼yj tego, ktÃ³ry siÄ™ zgÅ‚osiÅ‚ jako self-hosted"
    runs-on: [self-hosted, linux, homelab] 

    steps:
      - name: Pobierz kod z repozytorium (Checkout)
        uses: actions/checkout@v4

      - name: WyczyÅ›Ä‡ stary content (opcjonalne, ale zalecane)
        run: rm -rf /var/www/html/*

      - name: Kopiuj nowe pliki bloga
        run: |
          echo "ğŸš€ Rozpoczynam deployment na Homelab..."
          # Kopiujemy wszystko z bieÅ¼Ä…cego folderu repozytorium do katalogu Nginxa
          cp -r ./* /var/www/html/
          echo "âœ… Deployment zakoÅ„czony!"
